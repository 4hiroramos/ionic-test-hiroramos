{"ast":null,"code":"import _slicedToArray from\"/Users/hiromi/ionic-react-wordpress/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import config from'../config';import CardPosts from'./CardPosts';var RelatedPosts=function RelatedPosts(_ref){var post=_ref.post,target=_ref.target;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];useEffect(function(){if(!post)return;var client=config.wpClient.posts();if(target==='category'){client.categories(post.categories);}else{client.tags(post.tags);}client.perPage(4).then(function(data){setPosts(data.filter(function(d){return d.id!==post.id;}));});},[post,target]);if(!post)return null;return/*#__PURE__*/React.createElement(CardPosts,{title:\"Related \".concat(target,\" Posts\"),posts:posts});};export default RelatedPosts;","map":{"version":3,"sources":["/Users/hiromi/ionic-react-wordpress/src/components/RelatedPosts.tsx"],"names":["React","useState","useEffect","config","CardPosts","RelatedPosts","post","target","posts","setPosts","client","wpClient","categories","tags","perPage","then","data","filter","d","id"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CAIA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CAGA,GAAMC,CAAAA,YAGJ,CAAG,QAHCA,CAAAA,YAGD,MAAoB,IAAlBC,CAAAA,IAAkB,MAAlBA,IAAkB,CAAZC,MAAY,MAAZA,MAAY,eACKN,QAAQ,CAAU,EAAV,CADb,wCACdO,KADc,eACPC,QADO,eAErBP,SAAS,CAAC,UAAM,CACZ,GAAI,CAACI,IAAL,CAAW,OACX,GAAMI,CAAAA,MAAM,CAAGP,MAAM,CAACQ,QAAP,CAAgBH,KAAhB,EAAf,CACA,GAAID,MAAM,GAAK,UAAf,CAA2B,CACvBG,MAAM,CAACE,UAAP,CAAkBN,IAAI,CAACM,UAAvB,EACH,CAFD,IAEO,CACHF,MAAM,CAACG,IAAP,CAAYP,IAAI,CAACO,IAAjB,EACH,CACDH,MAAM,CAACI,OAAP,CAAe,CAAf,EAAkBC,IAAlB,CAAuB,SAACC,IAAD,CAAmB,CACtCP,QAAQ,CAACO,IAAI,CAACC,MAAL,CAAY,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,EAAF,GAASb,IAAI,CAACa,EAAlB,EAAb,CAAD,CAAR,CACH,CAFD,EAGH,CAXQ,CAWN,CAACb,IAAD,CAAOC,MAAP,CAXM,CAAT,CAYA,GAAI,CAACD,IAAL,CAAW,MAAO,KAAP,CACX,mBACI,oBAAC,SAAD,EAAW,KAAK,mBAAaC,MAAb,UAAhB,CAA6C,KAAK,CAAEC,KAApD,EADJ,CAGH,CArBD,CAuBA,cAAeH,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport config from '../config'\nimport {\n    WPPost, WPPosts\n} from '../wp.interface'\nimport CardPosts from './CardPosts';\n\n\nconst RelatedPosts: React.FC<{\n    target: 'category' | 'tags';\n    post?: WPPost\n}> = ({post, target}) => {\n    const [posts, setPosts] = useState<WPPosts>([])\n    useEffect(() => {\n        if (!post) return\n        const client = config.wpClient.posts()\n        if (target === 'category') {\n            client.categories(post.categories)\n        } else {\n            client.tags(post.tags)\n        }\n        client.perPage(4).then((data: WPPosts) => {\n            setPosts(data.filter(d => d.id !== post.id))\n        })\n    }, [post, target])\n    if (!post) return null;\n    return (\n        <CardPosts title={`Related ${target} Posts`} posts={posts} />\n    )\n}\n\nexport default RelatedPosts"]},"metadata":{},"sourceType":"module"}