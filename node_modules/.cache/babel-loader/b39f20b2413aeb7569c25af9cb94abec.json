{"ast":null,"code":"var _jsxFileName = \"/Users/hiromi/ionic-react-wordpress/src/components/RelatedPosts.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport config from '../config';\nimport CardPosts from './CardPosts';\n\nconst RelatedPosts = ({\n  post,\n  target\n}) => {\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    if (!post) return;\n    const client = config.wpClient.posts();\n\n    if (target === 'category') {\n      client.categories(post.categories);\n    } else {\n      client.tags(post.tags);\n    }\n\n    client.perPage(4).then(data => {\n      setPosts(data.filter(d => d.id !== post.id));\n    });\n  }, [post, target]);\n  if (!post) return null;\n  return /*#__PURE__*/React.createElement(CardPosts, {\n    title: `Related ${target} Posts`,\n    posts: posts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default RelatedPosts;","map":{"version":3,"sources":["/Users/hiromi/ionic-react-wordpress/src/components/RelatedPosts.tsx"],"names":["React","useState","useEffect","config","CardPosts","RelatedPosts","post","target","posts","setPosts","client","wpClient","categories","tags","perPage","then","data","filter","d","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAIA,OAAOC,SAAP,MAAsB,aAAtB;;AAGA,MAAMC,YAGJ,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAOC,EAAAA;AAAP,CAAD,KAAoB;AACrB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAU,EAAV,CAAlC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACI,IAAL,EAAW;AACX,UAAMI,MAAM,GAAGP,MAAM,CAACQ,QAAP,CAAgBH,KAAhB,EAAf;;AACA,QAAID,MAAM,KAAK,UAAf,EAA2B;AACvBG,MAAAA,MAAM,CAACE,UAAP,CAAkBN,IAAI,CAACM,UAAvB;AACH,KAFD,MAEO;AACHF,MAAAA,MAAM,CAACG,IAAP,CAAYP,IAAI,CAACO,IAAjB;AACH;;AACDH,IAAAA,MAAM,CAACI,OAAP,CAAe,CAAf,EAAkBC,IAAlB,CAAwBC,IAAD,IAAmB;AACtCP,MAAAA,QAAQ,CAACO,IAAI,CAACC,MAAL,CAAYC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASb,IAAI,CAACa,EAA/B,CAAD,CAAR;AACH,KAFD;AAGH,GAXQ,EAWN,CAACb,IAAD,EAAOC,MAAP,CAXM,CAAT;AAYA,MAAI,CAACD,IAAL,EAAW,OAAO,IAAP;AACX,sBACI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAG,WAAUC,MAAO,QAApC;AAA6C,IAAA,KAAK,EAAEC,KAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAGH,CArBD;;AAuBA,eAAeH,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport config from '../config'\nimport {\n    WPPost, WPPosts\n} from '../wp.interface'\nimport CardPosts from './CardPosts';\n\n\nconst RelatedPosts: React.FC<{\n    target: 'category' | 'tags';\n    post?: WPPost\n}> = ({post, target}) => {\n    const [posts, setPosts] = useState<WPPosts>([])\n    useEffect(() => {\n        if (!post) return\n        const client = config.wpClient.posts()\n        if (target === 'category') {\n            client.categories(post.categories)\n        } else {\n            client.tags(post.tags)\n        }\n        client.perPage(4).then((data: WPPosts) => {\n            setPosts(data.filter(d => d.id !== post.id))\n        })\n    }, [post, target])\n    if (!post) return null;\n    return (\n        <CardPosts title={`Related ${target} Posts`} posts={posts} />\n    )\n}\n\nexport default RelatedPosts"]},"metadata":{},"sourceType":"module"}