{"ast":null,"code":"var _jsxFileName = \"/Users/hiromi/ionic-react-wordpress/src/SWUpdateDialog.tsx\";\nimport React, { useState } from 'react';\n/**\n * @see https://qiita.com/wakeupsloth/items/6778df1e984f55c446e9#2-%E6%9B%B4%E6%96%B0%E3%83%80%E3%82%A4%E3%82%A2%E3%83%AD%E3%82%B0%E3%81%AEcomponent%E3%82%92%E4%BD%9C%E3%82%8B\n */\n\nexport const SWUpdateDialog = ({\n  registration\n}) => {\n  const [show, setShow] = useState(!!registration.waiting);\n  const style = {\n    backgroundColor: 'deepskyblue',\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    textAlign: 'center',\n    padding: '10px',\n    zIndex: 999,\n    cursor: 'pointer'\n  };\n\n  const handleUpdate = () => {\n    var _registration$waiting;\n\n    (_registration$waiting = registration.waiting) === null || _registration$waiting === void 0 ? void 0 : _registration$waiting.postMessage({\n      type: 'SKIP_WAITING'\n    });\n    setShow(false);\n    window.location.reload();\n  };\n\n  return show ? /*#__PURE__*/React.createElement(\"div\", {\n    style: style,\n    onClick: handleUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, \"New version is available!\")) : null;\n};","map":{"version":3,"sources":["/Users/hiromi/ionic-react-wordpress/src/SWUpdateDialog.tsx"],"names":["React","useState","SWUpdateDialog","registration","show","setShow","waiting","style","backgroundColor","position","top","left","width","textAlign","padding","zIndex","cursor","handleUpdate","postMessage","type","window","location","reload"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA;;;;AAGA,OAAO,MAAMC,cAAqE,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAsB;AACzG,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC,CAAC,CAACE,YAAY,CAACG,OAAhB,CAAhC;AACA,QAAMC,KAA0B,GAAG;AACjCC,IAAAA,eAAe,EAAE,aADgB;AAEjCC,IAAAA,QAAQ,EAAE,OAFuB;AAGjCC,IAAAA,GAAG,EAAE,CAH4B;AAIjCC,IAAAA,IAAI,EAAE,CAJ2B;AAKjCC,IAAAA,KAAK,EAAE,MAL0B;AAMjCC,IAAAA,SAAS,EAAE,QANsB;AAOjCC,IAAAA,OAAO,EAAE,MAPwB;AAQjCC,IAAAA,MAAM,EAAE,GARyB;AASjCC,IAAAA,MAAM,EAAE;AATyB,GAAnC;;AAWA,QAAMC,YAAY,GAAG,MAAM;AAAA;;AACzB,6BAAAd,YAAY,CAACG,OAAb,gFAAsBY,WAAtB,CAAkC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAlC;AACAd,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAe,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,GAJD;;AAMA,SAAOlB,IAAI,gBACT;AAAK,IAAA,KAAK,EAAEG,KAAZ;AAAmB,IAAA,OAAO,EAAEU,YAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,CADS,GAKT,IALF;AAOD,CA1BM","sourcesContent":["import React, { useState } from 'react';\n\n/**\n * @see https://qiita.com/wakeupsloth/items/6778df1e984f55c446e9#2-%E6%9B%B4%E6%96%B0%E3%83%80%E3%82%A4%E3%82%A2%E3%83%AD%E3%82%B0%E3%81%AEcomponent%E3%82%92%E4%BD%9C%E3%82%8B\n */\nexport const SWUpdateDialog: React.FC<{ registration: ServiceWorkerRegistration }> = ({ registration }) => {\n  const [show, setShow] = useState(!!registration.waiting);\n  const style: React.CSSProperties = {\n    backgroundColor: 'deepskyblue',\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    textAlign: 'center',\n    padding: '10px',\n    zIndex: 999,\n    cursor: 'pointer'\n  };\n  const handleUpdate = () => {\n    registration.waiting?.postMessage({ type: 'SKIP_WAITING' });\n    setShow(false);\n    window.location.reload();\n  };\n\n  return show ? (\n    <div style={style} onClick={handleUpdate}>\n      <span>New version is available!</span>\n    </div>\n  ) : (\n    null\n  );\n};"]},"metadata":{},"sourceType":"module"}