{"ast":null,"code":"import _slicedToArray from\"/Users/hiromi/ionic-react-wordpress/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';/**\n * @see https://qiita.com/wakeupsloth/items/6778df1e984f55c446e9#2-%E6%9B%B4%E6%96%B0%E3%83%80%E3%82%A4%E3%82%A2%E3%83%AD%E3%82%B0%E3%81%AEcomponent%E3%82%92%E4%BD%9C%E3%82%8B\n */export var SWUpdateDialog=function SWUpdateDialog(_ref){var registration=_ref.registration;var _useState=useState(!!registration.waiting),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var style={backgroundColor:'deepskyblue',position:'fixed',top:0,left:0,width:'100%',textAlign:'center',padding:'10px',zIndex:999,cursor:'pointer'};var handleUpdate=function handleUpdate(){var _registration$waiting;(_registration$waiting=registration.waiting)===null||_registration$waiting===void 0?void 0:_registration$waiting.postMessage({type:'SKIP_WAITING'});setShow(false);window.location.reload();};return show?/*#__PURE__*/React.createElement(\"div\",{style:style,onClick:handleUpdate},/*#__PURE__*/React.createElement(\"span\",null,\"New version is available!\")):null;};","map":{"version":3,"sources":["/Users/hiromi/ionic-react-wordpress/src/SWUpdateDialog.tsx"],"names":["React","useState","SWUpdateDialog","registration","waiting","show","setShow","style","backgroundColor","position","top","left","width","textAlign","padding","zIndex","cursor","handleUpdate","postMessage","type","window","location","reload"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA;;GAGA,MAAO,IAAMC,CAAAA,cAAqE,CAAG,QAAxEA,CAAAA,cAAwE,MAAsB,IAAnBC,CAAAA,YAAmB,MAAnBA,YAAmB,eACjFF,QAAQ,CAAC,CAAC,CAACE,YAAY,CAACC,OAAhB,CADyE,wCAClGC,IADkG,eAC5FC,OAD4F,eAEzG,GAAMC,CAAAA,KAA0B,CAAG,CACjCC,eAAe,CAAE,aADgB,CAEjCC,QAAQ,CAAE,OAFuB,CAGjCC,GAAG,CAAE,CAH4B,CAIjCC,IAAI,CAAE,CAJ2B,CAKjCC,KAAK,CAAE,MAL0B,CAMjCC,SAAS,CAAE,QANsB,CAOjCC,OAAO,CAAE,MAPwB,CAQjCC,MAAM,CAAE,GARyB,CASjCC,MAAM,CAAE,SATyB,CAAnC,CAWA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,2BACzB,uBAAAd,YAAY,CAACC,OAAb,sEAAsBc,WAAtB,CAAkC,CAAEC,IAAI,CAAE,cAAR,CAAlC,EACAb,OAAO,CAAC,KAAD,CAAP,CACAc,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAJD,CAMA,MAAOjB,CAAAA,IAAI,cACT,2BAAK,KAAK,CAAEE,KAAZ,CAAmB,OAAO,CAAEU,YAA5B,eACE,4DADF,CADS,CAKT,IALF,CAOD,CA1BM","sourcesContent":["import React, { useState } from 'react';\n\n/**\n * @see https://qiita.com/wakeupsloth/items/6778df1e984f55c446e9#2-%E6%9B%B4%E6%96%B0%E3%83%80%E3%82%A4%E3%82%A2%E3%83%AD%E3%82%B0%E3%81%AEcomponent%E3%82%92%E4%BD%9C%E3%82%8B\n */\nexport const SWUpdateDialog: React.FC<{ registration: ServiceWorkerRegistration }> = ({ registration }) => {\n  const [show, setShow] = useState(!!registration.waiting);\n  const style: React.CSSProperties = {\n    backgroundColor: 'deepskyblue',\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    textAlign: 'center',\n    padding: '10px',\n    zIndex: 999,\n    cursor: 'pointer'\n  };\n  const handleUpdate = () => {\n    registration.waiting?.postMessage({ type: 'SKIP_WAITING' });\n    setShow(false);\n    window.location.reload();\n  };\n\n  return show ? (\n    <div style={style} onClick={handleUpdate}>\n      <span>New version is available!</span>\n    </div>\n  ) : (\n    null\n  );\n};"]},"metadata":{},"sourceType":"module"}