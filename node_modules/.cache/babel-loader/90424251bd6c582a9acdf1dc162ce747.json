{"ast":null,"code":"var _jsxFileName = \"/Users/hiromi/ionic-react-wordpress/src/components/Menu.tsx\";\nimport { IonContent, IonIcon, IonItem, IonLabel, IonList, IonListHeader, IonMenu, IonMenuToggle, IonNote } from '@ionic/react';\nimport { useMediaQuery } from 'react-responsive';\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { librarySharp, home, readerOutline } from 'ionicons/icons';\nimport './Menu.css';\nimport config from '../config';\nimport { createRelativeLink } from '../helpers/url';\n\nconst Menu = () => {\n  const location = useLocation();\n  const [siteName, setSiteName] = useState('loading...');\n  const [description, setDescription] = useState('');\n  const [categories, setCategories] = useState([]);\n  const [pages, setPages] = useState([]);\n  useEffect(() => {\n    // Load site metadata\n    config.wpClient.root().then(data => {\n      setSiteName(data.name);\n      setDescription(data.description);\n    }); // Load categories\n\n    config.wpClient.categories().perPage(100).param({\n      parent: 0\n    }).then(data => {\n      setCategories(data.sort((a, b) => {\n        if (a.id < b.id) return -1;\n        if (a.id > b.id) return 1;\n        return 0;\n      }));\n    }); // Load pages\n\n    config.wpClient.pages().perPage(100).then(data => {\n      setPages(data.sort((a, b) => {\n        if (a.id < b.id) return -1;\n        if (a.id > b.id) return 1;\n        return 0;\n      }));\n    });\n  }, []);\n  const isDesktop = useMediaQuery({\n    minWidth: 992\n  });\n  const side = useMemo(() => isDesktop ? 'start' : 'end', [isDesktop]);\n  return /*#__PURE__*/React.createElement(IonMenu, {\n    contentId: \"main\",\n    type: \"overlay\",\n    side: side,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonList, {\n    id: \"inbox-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonListHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, siteName)), /*#__PURE__*/React.createElement(IonNote, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, description), /*#__PURE__*/React.createElement(IonMenuToggle, {\n    autoHide: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    className: location.pathname === '/page' ? 'selected' : '',\n    routerLink: \"/\",\n    routerDirection: \"none\",\n    lines: \"none\",\n    detail: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    slot: \"start\",\n    icon: home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, \"Home\")))), /*#__PURE__*/React.createElement(IonList, {\n    id: \"inbox-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonListHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 26\n    }\n  }, \"Categories\")), categories.map(category => {\n    const path = `/category/${category.slug}`;\n    return /*#__PURE__*/React.createElement(IonMenuToggle, {\n      key: category.id,\n      autoHide: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IonItem, {\n      className: location.pathname === path ? 'selected' : '',\n      routerLink: path,\n      routerDirection: \"none\",\n      lines: \"none\",\n      detail: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IonIcon, {\n      slot: \"start\",\n      icon: librarySharp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(IonLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }, category.name)));\n  })), /*#__PURE__*/React.createElement(IonList, {\n    id: \"inbox-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonListHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 26\n    }\n  }, \"Pages\")), pages.map(page => {\n    const path = createRelativeLink(config.pageURLPrefix, page.slug);\n    return /*#__PURE__*/React.createElement(IonMenuToggle, {\n      key: page.id,\n      autoHide: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IonItem, {\n      className: location.pathname === path ? 'selected' : '',\n      routerLink: path,\n      routerDirection: \"none\",\n      lines: \"none\",\n      detail: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IonIcon, {\n      slot: \"start\",\n      icon: readerOutline,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(IonLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 19\n      }\n    }, page.title.rendered)));\n  }))));\n};\n\nexport default Menu;","map":{"version":3,"sources":["/Users/hiromi/ionic-react-wordpress/src/components/Menu.tsx"],"names":["IonContent","IonIcon","IonItem","IonLabel","IonList","IonListHeader","IonMenu","IonMenuToggle","IonNote","useMediaQuery","React","useEffect","useState","useMemo","useLocation","librarySharp","home","readerOutline","config","createRelativeLink","Menu","location","siteName","setSiteName","description","setDescription","categories","setCategories","pages","setPages","wpClient","root","then","data","name","perPage","param","parent","sort","a","b","id","isDesktop","minWidth","side","pathname","map","category","path","slug","page","pageURLPrefix","title","rendered"],"mappings":"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","sourcesContent":["import {\n  IonContent,\n  IonIcon,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonListHeader,\n  IonMenu,\n  IonMenuToggle,\n  IonNote,\n} from '@ionic/react';\nimport {\n  useMediaQuery\n} from 'react-responsive'\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { librarySharp, home, readerOutline } from 'ionicons/icons';\nimport './Menu.css';\nimport config from '../config';\nimport {\nWPCategory, WPPosts\n} from '../wp.interface'\nimport { createRelativeLink } from '../helpers/url';\n\nconst Menu: React.FC = () => {\n  const location = useLocation();\n\n  const [siteName, setSiteName] = useState('loading...')\n  const [description, setDescription] = useState('')\n  const [categories, setCategories] = useState<WPCategory[]>([])\n  const [pages, setPages] = useState<WPPosts>([])\n  \n  useEffect(() => {\n    // Load site metadata\n    config.wpClient.root().then(data => {\n      setSiteName(data.name)\n      setDescription(data.description)\n    })\n    // Load categories\n    config.wpClient.categories().perPage(100).param({parent: 0})\n    .then((data: WPCategory[]) => {\n      setCategories(data.sort((a, b) => {\n        if( a.id < b.id ) return -1;\n        if( a.id > b.id ) return 1;\n        return 0;\n      }))\n    })\n    // Load pages\n    config.wpClient.pages().perPage(100)\n    .then((data: WPPosts) => {\n      setPages(data.sort((a,b) => {\n        if( a.id < b.id ) return -1;\n        if( a.id > b.id ) return 1;\n        return 0;\n      }))\n    })\n  }, [])\n  const isDesktop = useMediaQuery({ minWidth: 992 })\n  const side = useMemo(() => isDesktop ? 'start' : 'end', [isDesktop])\n  return (\n    <IonMenu contentId=\"main\" type=\"overlay\" side={side}>\n      <IonContent>\n        <IonList id=\"inbox-list\">\n          <IonListHeader>\n              <IonLabel>\n                {siteName}\n              </IonLabel>\n          </IonListHeader>\n          <IonNote>{description}</IonNote>\n          <IonMenuToggle autoHide={false}>\n            <IonItem className={location.pathname === '/page' ? 'selected' : ''} routerLink=\"/\" routerDirection=\"none\" lines=\"none\" detail={false}>\n              <IonIcon slot=\"start\" icon={home} />\n              <IonLabel>Home</IonLabel>\n            </IonItem>\n          </IonMenuToggle>\n          </IonList>\n        <IonList id=\"inbox-list\">\n          <IonListHeader><IonLabel>Categories</IonLabel></IonListHeader>\n          {categories.map(category => {\n            const path = `/category/${category.slug}`\n            return (\n              <IonMenuToggle key={category.id} autoHide={false}>\n                <IonItem className={location.pathname === path ? 'selected' : ''} routerLink={path} routerDirection=\"none\" lines=\"none\" detail={false}>\n                  <IonIcon slot=\"start\" icon={librarySharp} />\n                  <IonLabel>{category.name}</IonLabel>\n                </IonItem>\n              </IonMenuToggle>\n            )}\n          )}\n        </IonList>\n        <IonList id=\"inbox-list\">\n          <IonListHeader><IonLabel>Pages</IonLabel></IonListHeader>\n          {pages.map(page => {\n            const path = createRelativeLink( config.pageURLPrefix, page.slug)\n            return (\n              <IonMenuToggle key={page.id} autoHide={false}>\n                <IonItem className={location.pathname === path ? 'selected' : ''} routerLink={path} routerDirection=\"none\" lines=\"none\" detail={false}>\n                  <IonIcon slot=\"start\" icon={readerOutline} />\n                  <IonLabel>{page.title.rendered}</IonLabel>\n                </IonItem>\n              </IonMenuToggle>\n            )}\n          )}\n        </IonList>\n      </IonContent>\n    </IonMenu>\n  );\n};\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}