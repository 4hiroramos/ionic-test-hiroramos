{"ast":null,"code":"import _slicedToArray from\"/Users/hiromi/ionic-react-wordpress/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback}from'react';import Layout from'../components/Layouts';import config from'../config';import ListPost from'../components/ListPosts';import{IonRefresher,IonRefresherContent}from'@ionic/react';import CardPosts from'../components/CardPosts';var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),stickyPosts=_useState2[0],setStickyPosts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];useEffect(function(){config.wpClient.posts().perPage(3).param({sticky:\"true\"}).embed().then(function(data){setStickyPosts(data);});config.wpClient.posts().perPage(30).embed().then(function(data){setPosts(data);});},[]);var handleRefresh=useCallback(function(event){config.wpClient.posts().perPage(30).embed().then(function(data){setPosts(data);}).finally(function(){event.detail.complete();});},[]);return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(IonRefresher,{slot:\"fixed\",onIonRefresh:handleRefresh},/*#__PURE__*/React.createElement(IonRefresherContent,null)),/*#__PURE__*/React.createElement(CardPosts,{posts:stickyPosts.length>0?stickyPosts:undefined,style:{backgroundColor:'#ddd',paddingBottom:'25px',paddingTop:'25px'}}),/*#__PURE__*/React.createElement(ListPost,{posts:posts}));};export default Home;","map":{"version":3,"sources":["/Users/hiromi/ionic-react-wordpress/src/pages/Home.tsx"],"names":["React","useState","useEffect","useCallback","Layout","config","ListPost","IonRefresher","IonRefresherContent","CardPosts","Home","stickyPosts","setStickyPosts","posts","setPosts","wpClient","perPage","param","sticky","embed","then","data","handleRefresh","event","finally","detail","complete","length","undefined","backgroundColor","paddingBottom","paddingTop"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,WAArC,KAAwD,OAAxD,CAEA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CAIA,OAASC,YAAT,CAAuBC,mBAAvB,KAAkD,cAAlD,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CAEA,GAAMC,CAAAA,IAAc,CAAG,QAAjBA,CAAAA,IAAiB,EAAM,eACaT,QAAQ,CAAW,EAAX,CADrB,wCAClBU,WADkB,eACLC,cADK,8BAECX,QAAQ,CAAW,EAAX,CAFT,yCAElBY,KAFkB,eAEXC,QAFW,eAGzBZ,SAAS,CAAC,UAAM,CACZG,MAAM,CAACU,QAAP,CAAgBF,KAAhB,GAAwBG,OAAxB,CAAgC,CAAhC,EAAmCC,KAAnC,CAAyC,CAACC,MAAM,CAAE,MAAT,CAAzC,EAA2DC,KAA3D,GAAmEC,IAAnE,CAAwE,SAAAC,IAAI,CAAI,CAC5ET,cAAc,CAACS,IAAD,CAAd,CACH,CAFD,EAGAhB,MAAM,CAACU,QAAP,CAAgBF,KAAhB,GAAwBG,OAAxB,CAAgC,EAAhC,EAAoCG,KAApC,GAA4CC,IAA5C,CAAiD,SAAAC,IAAI,CAAI,CACrDP,QAAQ,CAACO,IAAD,CAAR,CACH,CAFD,EAGH,CAPQ,CAON,EAPM,CAAT,CAQA,GAAMC,CAAAA,aAAa,CAAGnB,WAAW,CAAC,SAACoB,KAAD,CAA8C,CAC5ElB,MAAM,CAACU,QAAP,CAAgBF,KAAhB,GAAwBG,OAAxB,CAAgC,EAAhC,EAAoCG,KAApC,GAA4CC,IAA5C,CAAiD,SAAAC,IAAI,CAAI,CACrDP,QAAQ,CAACO,IAAD,CAAR,CACH,CAFD,EAEGG,OAFH,CAEW,UAAM,CACbD,KAAK,CAACE,MAAN,CAAaC,QAAb,GACH,CAJD,EAKH,CANgC,CAM9B,EAN8B,CAAjC,CAOA,mBACI,oBAAC,MAAD,mBACI,oBAAC,YAAD,EAAc,IAAI,CAAC,OAAnB,CAA2B,YAAY,CAAEJ,aAAzC,eACI,oBAAC,mBAAD,MADJ,CADJ,cAII,oBAAC,SAAD,EACI,KAAK,CAAEX,WAAW,CAACgB,MAAZ,CAAqB,CAArB,CAAyBhB,WAAzB,CAAsCiB,SADjD,CAEI,KAAK,CAAE,CACHC,eAAe,CAAE,MADd,CAEHC,aAAa,CAAE,MAFZ,CAGHC,UAAU,CAAE,MAHT,CAFX,EAJJ,cAYI,oBAAC,QAAD,EAAU,KAAK,CAAElB,KAAjB,EAZJ,CADJ,CAgBH,CAlCD,CAoCA,cAAeH,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react'\nimport { RefresherEventDetail } from '@ionic/core';\nimport Layout from '../components/Layouts'\nimport config from '../config'\nimport ListPost from '../components/ListPosts'\nimport {\n    WPPost\n} from '../wp.interface'\nimport { IonRefresher, IonRefresherContent } from '@ionic/react'\nimport CardPosts from '../components/CardPosts';\n\nconst Home: React.FC = () => {\n    const [stickyPosts, setStickyPosts] = useState<WPPost[]>([])\n    const [posts, setPosts] = useState<WPPost[]>([])\n    useEffect(() => {\n        config.wpClient.posts().perPage(3).param({sticky: \"true\"}).embed().then(data => {\n            setStickyPosts(data)\n        })\n        config.wpClient.posts().perPage(30).embed().then(data => {\n            setPosts(data)\n        })\n    }, [])\n    const handleRefresh = useCallback((event: CustomEvent<RefresherEventDetail>) => {\n        config.wpClient.posts().perPage(30).embed().then(data => {\n            setPosts(data)\n        }).finally(() => {\n            event.detail.complete()\n        })\n    }, [])\n    return (\n        <Layout>\n            <IonRefresher slot=\"fixed\" onIonRefresh={handleRefresh}>\n                <IonRefresherContent />\n            </IonRefresher>\n            <CardPosts\n                posts={stickyPosts.length > 0 ? stickyPosts: undefined}\n                style={{\n                    backgroundColor: '#ddd',\n                    paddingBottom: '25px',\n                    paddingTop: '25px',\n                }}\n            />\n            <ListPost posts={posts} />\n        </Layout>\n    )\n}\n\nexport default Home"]},"metadata":{},"sourceType":"module"}